<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutua</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" href="assets/images/cloud.ico" type="image/x-icon">
    <script src="./js/sessao.js"></script>
    <script src="js/cadastro.js"></script>
</head>

<body onload="VerAvaliacoes()">
    <div class="header">
        <div class="container">
            <div class="logo">
                <a href="index.html"><img src="assets/images/Documentação-Flutua-removebg-preview.png"></a>
                <!-- <a href="index.html"><span>Flutua</span></a> -->
            </div>
            <ul class="sections">
                <li> <a href="#sobre">Sobre</a></li>
                <li><a href="#sectionPlanos">Planos</a> </li>
                <li><a href="#avaliacoes">Avaliações</a> </li>
                <li><a href="Login.html">Entrar</a></li>
            </ul>
        </div>
    </div>

    <div class="banner">
        <div class="container">
            <div class="slogan1">
                <h1>
                    Trabalhe, estude e jogue com computadores de <span>última geração!</span> <br>
                    <h6>Acesse agora e conheça nossos planos a partir de R$10,00</h6>
                </h1>

            </div>
            <div class="slogan2">
                <h1>Para acessar basta uma conexão com a <span>internet!</span></h1>
                <img src="assets/images/wifi.png" alt="">
            </div>
        </div>
    </div>
    <section id="sobre"></section>
    <div class="about">
        <div class="container">
            <h1>Sobre nós</h1><br>
            <h2>A <span>Flutua</span> busca democratizar o acesso à tecnologia através do aluguel de computadores na
                nuvem para todos os tipos de clientes. Com apenas alguns cliques você poderá <span>usufruir o que há de
                    melhor no mundo da tecnologia, de forma acessível e simplificada</span>, utilizando qualquer
                dispositivo em qualquer lugar do mundo, basta estar conectado.</h2>
        </div>
    </div>
    <section id="sectionPlanos"></section>
    <div class="conheça">
        <h1>Conheça nossos planos</h1><br>
    </div>
    
    <div class="planos">
        <div class="container">
            <div class="boxes">
                <div class="box">
                    <img src="assets/images/notebook.png" alt="">
                    <h1>Básico</h1>
                    <h3>Ideal para realizar atividades básicas, como trabalhar e estudar de forma eficiente</h3>
                    <span>Tipo do Plano:</span>
                    <select id="tipo_basico" onchange="mostrarPreco()">
                        <option value="mensal">Mensal</option>
                        <option value="semanal">Semanal</option>
                        <option value="diario">Diário</option>
                    </select>
                    <div id="div_basico">R$50.00</div>
                   <a href="Cadastro.html"><button onclick="queroBasico()">Quero esse!</button></a> 
                </div>
                <div class="box">
                    <img src="assets/images/video-game.png" alt="">
                    <h1>Gamer</h1>
                    <h3>Computador para rodar todos os seus jogos com os melhores gráficos</h3>
                    <span>Tipo do Plano:</span>
                    <select id="tipo_gamer" onchange="mostrarPreco()">
                        <option value="mensal">Mensal</option>
                        <option value="semanal">Semanal</option>
                        <option value="diario">Diário</option>
                    </select>
                    <div id="div_gamer">R$70.00</div>
                    <button onclick="queroGamer()">Quero esse!</button>
                </div>
                <div class="box">
                    <img src="assets/images/programming-course.png" alt="">
                    <h1>Avançado</h1>
                    <h3>Focado para atividades profissionais que exijem alto processamento</h3>
                    <span>Tipo do Plano:</span>
                    <select id="tipo_avancado" onchange="mostrarPreco()">
                        <option value="mensal">Mensal</option>
                        <option value="semanal">Semanal</option>
                        <option value="diario">Diário</option>
                    </select>
                    <div id="div_avancado">R$90.00</div>
                    <button onclick="queroAvançado()">Quero esse!</button>
                </div>
            </div>

        </div>
    </div>
    <section id="avaliacoes"></section>
    <div class="avaliacoes">
        <h1>Avaliações dos nossos clientes</h1>

        <select name="" id="filtro" onchange="VerAvaliacoes()">
            <option value="0">Todas Avaliações</option>
            <option value="5">5 Estrelas</option>
            <option value="4">4 Estrelas</option>
            <option value="3">3 Estrelas</option>
            <option value="2">2 Estrelas</option>
            <option value="1">1 Estrela</option>
        </select>

        <div class="container">
            <div class="boxMensagem" id="mensagem">
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="container">
            <div class="copy">
                <p>Copyright &copy Flutua - Todos os direitos reservados</p>
            </div>
            <div class="contact">

                <h3>Contatos</h3>
                <p>(11) 94557-1785</p>
                <p>contactFlutua@sptech.school</p>
                <img src="assets/images/instagram.png">
                <img src="assets/images/facebook-app-symbol.png">
                <img src="assets/images/twitter.png">
                <img src="assets/images/youtube.png">
                <img src="assets/images/linkedin.png">

            </div>
            <div class="endereco">
                <h3>Endereço</h3>
                <p>Rua Haddock Lobo, 595 - Cerqueira César, São Paulo - SP, 01414-001</p>

            </div>

        </div>
    </div>
</body>

</html>
<script>
    var listaAvaliacoes = [];
    urlEstrela = '<img src="assets/images/star1.png">'
    function VerAvaliacoes() {
        mensagem.innerHTML = ``
        var avaliacoesMostradas = 0
        var filtroEstrelas = filtro.value


        fetch("/usuarios/VerAvaliacao").then(res => {
            if (!res.ok) {
                throw new Error(`Erro na solicitação: ${res.statusText}`);
            }
            return res.json();
        })
            .then(res => {
                listaAvaliacoes = res;
                for (var i = 0; i < listaAvaliacoes.length; i++) {
                    // SEM FILTRO- TODAS AS AVALIAÇÕES
                    if (filtroEstrelas == 0) {
                        mensagem.innerHTML += `
                            <div class="mensagem" >
                    
                    <h3><img src="assets/images/customer.png">${listaAvaliacoes[i].nome}</h3>
    
                <span id="estrelasAvaliacao">
                    ${urlEstrela.repeat(listaAvaliacoes[i].qtdEstrelas)}    
                </span>
                <span id="mensagemAvaliacao">
                    ${listaAvaliacoes[i].mensagem}
                </span>
    
            </div>
                            `
                    avaliacoesMostradas++
                        
                    }
                    // fILTRO 5 ESTRELAS
                    else if (filtroEstrelas == 5 && listaAvaliacoes[i].qtdEstrelas == 5) {
                        mensagem.innerHTML += `
                            <div class="mensagem" >
                    
                    <h3><img src="assets/images/customer.png">${listaAvaliacoes[i].nome}</h3>
    
                <span id="estrelasAvaliacao">
                    ${urlEstrela.repeat(listaAvaliacoes[i].qtdEstrelas)}    
                </span>
                <span id="mensagemAvaliacao">
                    ${listaAvaliacoes[i].mensagem}
                </span>
    
            </div>
                            `
                            avaliacoesMostradas++
                        
                    }
                    // FILTRO 4 ESTRELAS
                    else if (filtroEstrelas == 4 && listaAvaliacoes[i].qtdEstrelas == 4) {
                        mensagem.innerHTML += `
                            <div class="mensagem" >
                    
                    <h3><img src="assets/images/customer.png">${listaAvaliacoes[i].nome}</h3>
    
                <span id="estrelasAvaliacao">
                    ${urlEstrela.repeat(listaAvaliacoes[i].qtdEstrelas)}    
                </span>
                <span id="mensagemAvaliacao">
                    ${listaAvaliacoes[i].mensagem}
                </span>
    
            </div>
                            `
                            avaliacoesMostradas++
                        
                    }
                    // FILTRO 3 ESTRELAS
                    else if (filtroEstrelas == 3 && listaAvaliacoes[i].qtdEstrelas == 3) {
                        mensagem.innerHTML += `
                            <div class="mensagem" >
                    
                    <h3><img src="assets/images/customer.png">${listaAvaliacoes[i].nome}</h3>
    
                <span id="estrelasAvaliacao">
                    ${urlEstrela.repeat(listaAvaliacoes[i].qtdEstrelas)}    
                </span>
                <span id="mensagemAvaliacao">
                    ${listaAvaliacoes[i].mensagem}
                </span>
    
            </div>
                            `
                            avaliacoesMostradas++
                        
                    }
                    // FILTRO 2 ESTRELAS
                    else if (filtroEstrelas == 2 && listaAvaliacoes[i].qtdEstrelas == 2) {
                        mensagem.innerHTML += `
                            <div class="mensagem" >
                    
                    <h3><img src="assets/images/customer.png">${listaAvaliacoes[i].nome}</h3>
    
                <span id="estrelasAvaliacao">
                    ${urlEstrela.repeat(listaAvaliacoes[i].qtdEstrelas)}    
                </span>
                <span id="mensagemAvaliacao">
                    ${listaAvaliacoes[i].mensagem}
                </span>
    
            </div>
                            `
                            avaliacoesMostradas++
                        
                    }
                    // FILTRO 1 ESTRELA
                    else if (filtroEstrelas == 1 && listaAvaliacoes[i].qtdEstrelas == 1) {
                        mensagem.innerHTML += `
                            <div class="mensagem" >
                    
                    <h3><img src="assets/images/customer.png">${listaAvaliacoes[i].nome}</h3>
    
                <span id="estrelasAvaliacao">
                    ${urlEstrela.repeat(listaAvaliacoes[i].qtdEstrelas)}    
                </span>
                <span id="mensagemAvaliacao">
                    ${listaAvaliacoes[i].mensagem}
                </span>
    
            </div>
                            `
                            avaliacoesMostradas++
                        
                    }
                



                }
                if (avaliacoesMostradas == 0) {
                    mensagem.innerHTML += `
                    <h2>Nenhuma avaliação encontrada :(</h2>
                    `
                }
                // MOSTRAR QUANTIDADE DE AVALIAÇÕES
                else{

                }
            })
            .catch(error => {
                console.error("Erro durante a solicitação: ", error);
            })

    }
</script>